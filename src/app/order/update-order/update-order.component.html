<nb-card status="primary">
  <nb-card-header>Modificar Orden de Compra</nb-card-header>
  <nb-card-body>

      <form class="form" [formGroup]="orderForm">
          <input min="0" class="input" fullWidth nbInput type="number" placeholder="Price" formControlName="price">

          <form class="sub-form" [formGroup]="productForm">  
            <nb-layout-column>
                <nb-select formControlName="product" class="input" placeholder="Producto">
                  <nb-option *ngFor="let product of products" [value]="product">{{product.name}}</nb-option>
                </nb-select>
            </nb-layout-column>

            <nb-layout-column>
                <input class="input" type="number" nbInput placeholder="Cantidad" formControlName="quantity">
            </nb-layout-column>

            <nb-layout-column left class="colored-column-success">
                <button (click)="addToList()" nbButton [disabled]="!productForm.valid"><nb-icon icon="plus-outline"></nb-icon></button>
            </nb-layout-column>
          </form>

          <div [ngClass]="{'margin-bottom': order.items.length > 0}" class="badge-container">
            <nb-badge (click)="removeProductItem(productItem)" *ngFor="let productItem of order.product" text="{{productItem.product.name}} (x{{productItem.quantity}})" status="primary"></nb-badge>
          </div>

      </form>

  </nb-card-body>
  <nb-card-footer>
    <div class="button-container">
      <button (click)="close()" class="margin-right" status="danger" nbButton>Cancel</button>
      <button (click)="submit()" status="success" nbButton [disabled]="!orderForm.valid">Submit</button>
    </div>
  </nb-card-footer>
</nb-card>
